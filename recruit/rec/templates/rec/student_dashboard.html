{% extends 'rec/base.html' %}
{% load static %}

{% block title %}Student Dashboard - Recruitment Management System{% endblock %}

{% block content %}
<div class="container mt-5">
    <div class="row">
        <div class="col-md-3">
            <div class="card bg-dark text-white mb-3">
                <div class="card-body text-center">
                    {% if student.profile_picture %}
                        <img src="{{ student.profile_picture.url }}" alt="Profile Picture" class="rounded-circle" style="width: 100px; height: 100px;">
                    {% else %}
                        <p>No profile picture uploaded.</p>
                    {% endif %}
                    <h3>{{ student.student.name }}</h3>
                </div>
            </div>
        </div>
        <div class="col-md-9">
            <div class="card bg-dark text-white mb-3">
                <div class="card-header bg-primary text-white">
                    <h3>Upcoming Placement Drives</h3>
                </div>
                <div class="card-body">
                    <ul class="list-unstyled">
                        {% for drive in placement_drives %}
                            <li class="mb-2">
                                <strong>{{ drive.company_name }}</strong> - {{ drive.job_role }} on {{ drive.date }}
                                <a class="btn btn-sm btn-primary ml-2" href="{% url 'apply_to_placement_drive' drive.id %}">Apply</a>
                            </li>
                        {% endfor %}
                    </ul>
                </div>
            </div>
            <div class="d-flex justify-content-between">
                <a class="btn btn-outline-primary" href="{% url 'update_student_profile' %}">Update Profile</a>
                <a class="btn btn-outline-primary" href="{% url 'student_application_history' %}">View Application History</a>
                <a class="btn btn-outline-danger" href="{% url 'logout' %}">Logout</a>
            </div>
        </div>
    </div>
</div>
{% endblock %}
